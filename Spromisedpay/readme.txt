Модуль "Обещанный платеж" для биллинговой системы NoDeny 49.32

Умеет:

    * устанавливать срок действия в днях (опционально)
    * устанавливать количество возможностей пользования услугой в месяц (опционально)
    * устанавливать цену на услугу (опционально)
    * устанавливать минимальную цену платежа
    * устанавливать максимальную цену платежа
    * защита от букв и прочих ненужных знаков, обновлений страниц и т.п. попыток хака
    * пробрасывает 2 отдельных платежа (постоянный + временный), если указана плата за услугу
    * ведёт лог в "платежах и событиях", управляется там же
    * ведёт лог ошибок, если что-то с БД
    * документирован
    * настройки доступны из веб интерфейса администратора
    * защита от платежа, при котором у клиента всё равно будет минус
    * включает клиента, если после платежа положительный баланс

Инструкция по установке:

1. Загрузить Spromisedpay.pl на сервер в каталог:
/usr/local/nodeny/web

2. Вписать в /usr/local/nodeny/web/list.cfg следующее:
R -			-	'Обещанный платеж'
b PRMP_enable		0	'Да - модуль включен'
n PRMP_ld		0	'Срок действия временного платежа в днях (0 - не учитывать)'
n PRMP_mxmo		0	'Максимально допустимое количество пользования услугой в месяц начиная с первого числа (0 - не учитывать)'
n PRMP_price		0	'Сумма списания за пользование услугой (0 - не учитывать)'
n PRMP_mnp		0	'Минимальная сумма временного платежа (прибавится сумма за пользование услугой)'
n PRMP_mxp		0	'Максимальная сумма временного платежа (прибавится сумма за пользование услугой)'

3. Прописать в реестре плагинов (файл /usr/local/nodeny/web/plugin_reestr.cfg), например так:
900		Spromisedpay		PRMP_main		Обещанный платеж			0		0

4. Браузером в биллинге зайти в Операции -> Настройки -> Список плагинов. Вписать где хочется
Spromisedpay

5. Браузером в биллинге зайти в Операции -> Настройки -> Обещанный платеж. Вписать желаемые данные и включить модуль.

